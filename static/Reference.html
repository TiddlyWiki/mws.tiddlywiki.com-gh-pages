<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.3.7-prerelease" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>Reference: TiddlyWiki Multi-Wiki Server â€” TiddlyWiki for the People</title>
</head>
<body class="tc-body">
<p><div class="tc-static-alert"><div class="tc-static-alert-inner">This page is part of a static HTML representation of the TiddlyWiki at <a class="tc-tiddlylink-external" href="https://tiddlywiki.com/" rel="noopener noreferrer" target="_blank">https://tiddlywiki.com/</a></div></div>
</p>
<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="Reference" role="article"><div class="tc-tiddler-title tc-clearfix"><div class="tc-titlebar"><span class="tc-tiddler-controls"><button aria-expanded="false" aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><span class=" tc-reveal" hidden="true"></span><button aria-label="Edit this tiddler" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span><h2 class="tc-title">Reference</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class="tc-reveal"></div><div class=" tc-reveal"><div class="tc-subtitle tc-clearfix"></div></div><div class=" tc-reveal"><div class="tc-tags-wrapper"></div></div><div class="tc-tiddler-body tc-clearfix tc-reveal"><h1 class="">Authentication &amp; Authorization</h1><h2 class="">Overview</h2><p>Our application has transitioned from a conventional username/password authentication system to a more robust Authentication and Authorization implementation. This new system supports multiple user accounts, roles, permissions, and a comprehensive access control list.</p><h2 class="">Key Features</h2><ol><li>Multiple User Accounts</li><li>Role-based Access Control</li><li>Granular Permissions</li><li>Access Control List (ACL)</li></ol><h2 class="">Application Access &amp; Security</h2><h3 class="">Initial Setup</h3><p>When you first launch the Multiwiki Server, it operates in an unauthenticated mode to facilitate initial configuration. During this initial state, the system creates a temporary anonymous administrator account. Upon accessing the landing page, you'll receive a prominent security warning with instructions to establish a permanent ADMIN account. It's crucial to create this account immediately to secure your installation.</p><h3 class="">User Types and Permissions</h3><h4 class="">Administrator (ADMIN)</h4><ul><li>Full system access and configuration rights</li><li>Can create, modify, and delete user accounts</li><li>Manages role assignments and permissions</li><li>Controls global system settings</li><li>Can configure guest access policies</li><li>Has complete control over all recipes and tiddlers</li></ul><h4 class="">Regular Users</h4><ul><li>Custom accounts created by administrators</li><li>Permissions determined by assigned roles</li><li>Access limited to specific recipes based on role permissions</li><li>Can have READ and/or WRITE permissions</li></ul><h4 class="">Guest Users</h4><ul><li>Default anonymous access level</li><li>No inherent permissions</li><li>Can only access recipes without Access Control Lists (ACLs)</li><li>Read/write capabilities configurable by ADMIN</li><li>Useful for public wikis or documentation sites</li></ul><h3 class="">Access Control System</h3><h4 class="">Recipe-Level Security</h4><ul><li>Access control is implemented at the recipe level</li><li>Each recipe can have its own Access Control List (ACL)</li><li>Permissions are granular:<ul><li>READ: Allows viewing recipe contents</li><li>WRITE: Allows modifications to recipe contents</li></ul></li></ul><h4 class="">Role-Based Access Control (RBAC)</h4><ul><li>Administrators can create custom roles</li><li>Roles can be assigned specific READ/WRITE permissions</li><li>Users inherit permissions from their assigned roles</li><li>Multiple roles can be assigned to a single user</li><li>Provides flexible and scalable access management</li></ul><h4 class="">Permission Inheritance</h4><ul><li>Users receive combined permissions from all assigned roles</li><li>More permissive role takes precedence in conflicts</li><li>Guest access is overridden by recipe ACLs</li><li>System automatically enforces most restrictive access when conflicts occur</li></ul><p>This security model allows for fine-grained control over content access while maintaining flexibility for both private and public wiki deployments.</p><h2 class="">User Management &amp; Security Architecture</h2><h3 class="">User Account Management</h3><p>Users can be administered through two interfaces:</p><ol><li>Web-based Administrative Interface<ul><li>Accessible only to ADMIN users</li><li>Provides graphical interface for user operations</li><li>Real-time validation and feedback</li></ul></li><li>Command-line Interface (CLI) Tools<ul><li>Suitable for automation and scripting</li><li>Enables batch operations</li><li>Useful for system initialization</li></ul></li></ol><p>Each user account contains the following essential components:</p><ul><li><strong>Username</strong><ul><li>Must be unique across the system</li><li>Case-sensitive</li><li>Used for authentication and audit trails</li></ul></li><li><strong>Password</strong><ul><li>Stored using secure hashing algorithms</li><li>Never stored in plaintext</li><li>Subject to complexity requirements</li></ul></li><li><strong>Role Assignments</strong><ul><li>Multiple roles can be assigned</li><li>Inherited permissions from all assigned roles</li><li>Dynamic permission calculation based on role combination</li></ul></li></ul><h3 class="">Role &amp; Permission Framework</h3><h4 class="">Role Management</h4><p>Roles serve as permission containers and provide organized access control. The system includes:</p><p>Built-in Roles:</p><ul><li><code>ADMIN</code><ul><li>Highest privilege level</li><li>Full system access</li><li>Cannot be modified or deleted</li><li>Can create and manage other roles</li><li>Controls guest access policies</li></ul></li><li><code>USER</code><ul><li>Basic access rights</li><li>Typically limited to specific recipes</li><li>Custom Roles (Examples):**</li></ul></li><li><code>MANAGER</code><ul><li>Intermediate access level</li><li>Can manage subset of resources</li><li>Custom roles as needed for specific use cases</li></ul></li></ul><h4 class="">Permission Architecture</h4><p>Core Permissions:</p><ul><li><code>READ</code> Permission<ul><li>View recipe contents</li><li>Access tiddler data</li><li>View metadata</li><li>Export capabilities</li></ul></li><li><code>WRITE</code> Permission<ul><li>Create new tiddlers</li><li>Modify existing content</li><li>Delete resources</li><li>Manage recipe contents</li><li>Guest Access:**</li></ul></li><li>No default permissions</li><li>Access limited to non-ACL recipes</li><li>Configurable by ADMIN users</li><li>Suitable for public wikis</li></ul><h3 class="">Access Control List (ACL) Implementation</h3><p>The ACL system provides granular security control through:</p><h4 class="">Entity-Level Control</h4><ul><li>Recipe-based access control</li><li>Individual resource protection</li><li>Hierarchical permission inheritance</li></ul><h3 class="">Authentication Process Flow</h3><ul><li>Initial Authentication<ul><li>User submits credentials</li><li>System validates username existence</li><li>Password hash comparison</li><li>Session token generation</li></ul></li><li>Session Management<ul><li>Secure session storage</li><li>Token-based authentication</li><li>Automatic session expiration</li><li>Re-authentication requirements</li></ul></li></ul><h3 class="">Authorization Workflow</h3><ul><li>Request Processing<ul><li>Capture user action request</li><li>Identify target resource</li><li>Extract required permissions</li></ul></li><li>Permission Validation<ul><li>Check user roles</li><li>Aggregate permissions</li><li>Verify ACL entries</li><li>Apply guest policies if applicable</li></ul></li><li>Access Decision<ul><li>Compare required vs. available permissions</li><li>Apply most restrictive policy</li><li>Return access decision</li></ul></li></ul><h3 class="">System Extension Guidelines</h3><h4 class="">Adding New Roles</h4><ol><li>Access administrative interface</li><li>Define role identifier</li><li>Assign base permissions</li><li>Configure ACL mappings</li><li>Test role functionality</li></ol><h4 class="">Permission Expansion</h4><ol><li>Define new permission type</li><li>Update ACL structure</li><li>Implement permission checks</li><li>Update validation logic</li><li>Document new permission</li></ol><h4 class="">Security Considerations</h4><ul><li>Regular permission audits</li><li>Role assignment reviews</li><li>Guest access monitoring</li><li>Security log analysis</li><li>Access pattern monitoring</li></ul><p>This comprehensive security model provides flexible, maintainable, and secure access control while supporting both authenticated and guest users within the Multiwiki Server environment.</p><h1 class="">HTTP API</h1><p>The MultiWikiServer HTTP API provides access to resources hosted by the MWS store. It is based on <a class="tc-tiddlylink-external" href="https://tank.peermore.com/tanks/tiddlyweb/HTTP%20API" rel="noopener noreferrer" target="_blank">the API of TiddlyWeb</a>, first developed in 2008 by Chris Dent.</p><p>The design goals of the API are:</p><ul><li>To follow the principles of REST where practical</li><li>To present resources as nouns, not verbs</li></ul><p>General points about the design:</p><ul><li>In MWS there are no resources that end with / (except for the root path which is /)</li></ul></div>
</div></p>
</section>
</body>
</html>

