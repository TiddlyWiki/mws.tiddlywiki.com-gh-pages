<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.3.8-prerelease" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>Startup Cache: TiddlyWiki MultiWikiServer â€” TiddlyWiki for the People</title>
</head>
<body class="tc-body">
<p><div class="tc-static-alert"><div class="tc-static-alert-inner">This page is part of a static HTML representation of the TiddlyWiki at <a class="tc-tiddlylink-external" href="https://mws.tiddlywiki.com/" rel="noopener noreferrer" target="_blank">https://mws.tiddlywiki.com/</a></div></div>
</p>
<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists  tc-tagged-Reference" data-tags="Reference" data-tiddler-title="Startup Cache" role="article"><div class="tc-tiddler-title tc-clearfix"><div class="tc-titlebar"><span class="tc-tiddler-controls"><button aria-expanded="false" aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><span class=" tc-reveal" hidden="true"></span><button aria-label="Edit this tiddler" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span><h2 class="tc-title">Startup Cache</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class="tc-reveal"></div><div class=" tc-reveal"><div class="tc-subtitle tc-clearfix">13th May 2025 at 9:44pm</div></div><div class=" tc-reveal"><div class="tc-tags-wrapper"><span class="tc-tag-list-item" data-tag-title="Reference"><span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="fill:<<cssvar foreground>>;color:<<cssvar foreground>>;"><span class="tc-tag-exists">Reference</span></span><span class="tc-drop-down tc-reveal" hidden="true"></span></span></div></div><div class="tc-tiddler-body tc-clearfix tc-reveal"><div class="markdown">
<p>The startup cache records all the information about the TiddlyWiki plugin cache.
</p>
<dl>
<dt><code class="_codified_">pluginFiles</code></dt>
<dd>list of <strong>key:</strong> plugin title, <strong>value:</strong> cache-relative path to the plugin folder</dd>
<dt><code class="_codified_">pluginHashes</code></dt>
<dd>list of <strong>key:</strong> plugin title, <strong>value:</strong> sha384 hash (prefixed with <code class="_codified_">sha384-</code>)</dd>
<dt><code class="_codified_">filePlugins</code></dt>
<dd><code class="_codified_">pluginFiles</code> with the key and value reversed. It should only be used for importing existing data folders which have path references to TiddlyWiki plugins (such as found in <code class="_codified_">tiddlywiki.info</code> files).</dd>
<dt><code class="_codified_">requiredPlugins</code></dt>
<dd>the list of plugins that the site considers essential. Every wiki is always loaded with these plugins. Server Plugins can add or remove plugins from this list. It does not include the TiddlyWiki core, as that one is even more essential and can only be disabled with a setting on the recipe.</dd>
<dt><code class="_codified_">cachePath</code></dt>
<dd>absolute path to the cache directory</dd>
</dl>
<h2>SHA-384 Hash options</h2>
<dl>
<dt><code class="_codified_">prefix</code></dt>
<dd>a Buffer to add to the hash before the plugin itself</dd>
<dt><code class="_codified_">suffix</code></dt>
<dd>a Buffer to add to the hash after the plugin itself.</dd>
</dl>
<p>The hash is used for the integrity attribute when serving plugins externally. The exact file byte contents, along with <code class="_codified_">prefix</code> and <code class="_codified_">suffix</code>,  must be hashed in the correct encoding. Presumably this is always UTF-8. When a plugin is served as an external JS file, it is wrapped with <code class="_codified_">prefix</code> and <code class="_codified_">suffix</code>.
</p>
<p>The plugin itself is a <a class="tc-tiddlylink tc-tiddlylink-resolves _codified_" href="TiddlerFields.html">tiddler fields object</a> encoded with <code class="_codified_">JSON.stringify(tiddler.getFieldStrings())</code>.
</p>
</div></div>
</div></p>
</section>
</body>
</html>

